dist: xenial

env:
  global:
    - CONFIGURATION=Release
    - BUILD_NUMBER_ZERO_PAD="`printf '%08d' $TRAVIS_BUILD_NUMBER`"
    - VERSION_SUFFIX=aa-ci-$TRAVIS_BRANCH-$BUILD_NUMBER_ZERO_PAD
    - DOTNET_CLI_TELEMETRY_OPTOUT=1
    - DOTNET_SKIP_FIRST_TIME_EXPERIENCE=1
    - GITHUB_DOC_REPO_OWNER=psmay
    - GITHUB_DOC_REPO=csharp-travis-sandbox

language: csharp
mono: none
dotnet: 2.2.101

install:
  - dotnet restore

script:
  - echo The vs is $VERSION_SUFFIX
  - dotnet build -c $CONFIGURATION --version-suffix $VERSION_SUFFIX
  - dotnet test Fibonacci.Tests/Fibonacci.Tests.csproj

deploy:
  - on:
      branch: master
    skip_cleanup: true
    provider: script
    script:
      - 'bash scripts/documentation_all.sh'

